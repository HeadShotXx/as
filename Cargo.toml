[workspace]
members = [
    "a-d",
    "a-s",
    "a-v",
    "obf_macros",
]

[package]
name = "rust_s"
version = "0.1.0"
edition = "2021"

[workspace.dependencies]
windows-sys = { version = "0.48.0", features = [
    "Win32_System_Threading",
    "Win32_Foundation",
    "Win32_System_Diagnostics_Debug",
    "Win32_System_LibraryLoader",
    "Win32_Security",
    "Win32_System_SystemServices",
    "Win32_System_Kernel"
] }
once_cell = "1.19.0"
obf_macros = { path = "obf_macros" }
raw-cpuid = "11.1.0"
crc = "3.0.0"
windows = { version = "0.52.0", features = [
    "Win32_Foundation",
    "Win32_System_Diagnostics_Debug",
    "Win32_System_Threading",
    "Win32_System_SystemInformation",
    "Win32_System_Kernel",
    "Win32_Security",
    "Win32_System_Memory",
    "Win32_System_LibraryLoader",
    "Win32_System_Performance",
    "Win32_System_Diagnostics_ToolHelp",
    "Win32_System_ProcessStatus",
    "Win32_System_SystemServices",
    "Win32_UI_Input_KeyboardAndMouse",
    "Win32_System_Registry",
    "Win32_NetworkManagement_IpHelper",
    "Win32_Storage_FileSystem",
]}

[dependencies]
windows-sys = { workspace = true }
once_cell = { workspace = true }
obf_macros = { workspace = true }
anti-vm = { path = "a-v" }
anti-sandbox = { path = "a-s" }
anti-debug-rust = { path = "a-d" }

# ---- Obfuscation / release-hardening önerilen ayarlar ----
[profile.release]
opt-level = "z"        # boyutu küçült, optimizasyon yoğun
lto = true             # link-time optimization (analizi zorlaştırır)
codegen-units = 1      # tek codegen birimi (daha birleşik kod)
debug = false          # debug bilgilerini üretme
panic = "abort"        # daha küçük panic/stack trace
strip = "symbols"      # sembol tablosunu mümkün olduğunca küçült
